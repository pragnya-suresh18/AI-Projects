# AWS Cloud Troubleshooting Assistant - Configuration
# Copy this file to config.yaml and customize

# ====================================
# LLM PROVIDER
# ====================================
llm:
  provider: ollama  # Options: ollama, openai, bedrock
  
  # Ollama settings (Default - Free Local LLM)
  ollama:
    host: http://localhost:11434
    model: llama3.1
    # Alternative models: llama3.2, mistral, phi3
  
  # OpenAI settings (Optional)
  openai:
    api_key: ${OPENAI_API_KEY}  # Set as environment variable
    model: gpt-4o-mini
  
  # AWS Bedrock settings (Optional)
  bedrock:
    region: us-east-1
    model_id: anthropic.claude-3-5-sonnet-20241022-v2:0
  
  # Generation parameters
  temperature: 0.2  # Lower = more deterministic
  max_tokens: 2000

# ====================================
# AGENT FRAMEWORK
# ====================================
agents:
  framework: langgraph  # Options: langgraph, crewai, custom
  
  # Query settings
  query_timeout: 60  # seconds
  max_concurrent_agents: 3
  
  # Agent-specific settings
  orchestrator:
    enabled: true
    
  anomaly_detector:
    enabled: true
    threshold: 3.0  # Z-score threshold
    sensitivity: medium  # Options: low, medium, high
    baseline_window: 60  # minutes
    
  root_cause_analyzer:
    enabled: true
    max_hypotheses: 5
    
  reporter:
    enabled: true
    include_visualizations: true
    report_format: markdown  # Options: markdown, html, json

# ====================================
# DATA CONFIGURATION
# ====================================
data:
  # Data paths (relative to project root)
  base_dir: ./data
  metrics_dir: ./data/raw/metrics
  logs_dir: ./data/raw/logs
  incidents_dir: ./data/raw/incidents
  output_dir: ./outputs
  
  # Data generation settings
  generation:
    days: 30  # Days of synthetic data
    metric_interval_seconds: 60
    log_entries_per_day: 10000
    incident_count: 18
    
  # Services to generate data for
  services:
    - api-service
    - database-service
    - auth-service
    - payment-service
  
  # Metrics to generate
  metrics:
    - api_latency_p50
    - api_latency_p90
    - api_latency_p99
    - cpu_utilization
    - memory_utilization
    - request_rate
    - error_rate
    - database_query_time

# ====================================
# ANOMALY DETECTION
# ====================================
anomaly_detection:
  methods:
    - zscore
    - iqr
    - moving_average
  
  # Z-score settings
  zscore:
    threshold: 3.0
    window_size: 100
  
  # IQR settings
  iqr:
    multiplier: 1.5
  
  # Moving average settings
  moving_average:
    window_minutes: 60
    deviation_threshold: 2.5

# ====================================
# KNOWLEDGE BASE (RAG)
# ====================================
knowledge_base:
  # Vector database
  vector_db: chromadb  # Options: chromadb, faiss
  
  # ChromaDB settings
  chromadb:
    persist_dir: ./knowledge_base/embeddings
    collection_name: troubleshooting_kb
  
  # Embedding settings
  embeddings:
    provider: ollama  # Use Ollama for free embeddings
    model: nomic-embed-text
    dimension: 768
  
  # Retrieval settings
  retrieval:
    top_k: 3
    similarity_threshold: 0.7
  
  # Knowledge sources
  sources:
    - ./knowledge_base/common_issues/
    - ./knowledge_base/runbooks/

# ====================================
# LOGGING & DEBUGGING
# ====================================
logging:
  level: INFO  # Options: DEBUG, INFO, WARNING, ERROR
  
  # Detailed tracing
  trace_agents: false
  trace_llm_calls: false
  
  # Output settings
  save_intermediate_outputs: true
  log_file: ./logs/app.log

# ====================================
# EVALUATION
# ====================================
evaluation:
  # Ground truth comparison
  compare_ground_truth: true
  
  # Performance metrics
  measure_latency: true
  measure_token_usage: true
  
  # Success criteria
  target_accuracy: 0.85
  target_response_time: 10  # seconds
  max_false_positive_rate: 0.10

# ====================================
# VISUALIZATION
# ====================================
visualization:
  # Plot settings
  style: seaborn  # Options: seaborn, ggplot, default
  figure_size: [12, 6]
  dpi: 100
  
  # Color scheme
  colors:
    anomaly: red
    normal: blue
    warning: orange
  
  # Export format
  export_format: png  # Options: png, svg, pdf

# ====================================
# OPTIONAL: AWS SETTINGS
# ====================================
# (Only needed if migrating to AWS)
aws:
  region: us-east-1
  
  # CloudWatch
  cloudwatch:
    log_group: /aws/troubleshooting-assistant
    metric_namespace: TroubleshootingAssistant
  
  # Lambda
  lambda:
    timeout: 30
    memory: 512
  
  # DynamoDB
  dynamodb:
    metrics_table: metrics
    incidents_table: incidents
  
  # S3
  s3:
    reports_bucket: troubleshooting-reports





